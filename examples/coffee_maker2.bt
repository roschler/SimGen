coffee_sim ->
  { reset on },
  { =>
     user,
     coffee_maker
  }
.

/*         The User             */
user ->
  {dur 10},
  {set on},
  {wait coffee_ready},
  drink
.

drink dur 10
.

/*     The pot            */

coffee_maker ->
  maker_off,
  {wait on},  % wait til the user turns it on
  heat_water,
  boil,
  caraffe_heater,
  making_done
.
 
boil =>
  boil_water,
  filter_coffee
.

boil_water !
  w = 100
;
  w := w - 5
;
  w > 0
.

filter_coffee !
 ;
 ;
 w > 0
.




